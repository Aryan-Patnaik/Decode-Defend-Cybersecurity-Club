<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cybersecurity Quiz</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0a0f24;
      color: #f1f1f1;
      margin: 0;
      padding: 0;
    }
    header {
      background: #111933;
      padding: 15px;
      text-align: center;
      font-size: 1.5em;
      color: #00ffe0;
      letter-spacing: 2px;
    }
    .container {
      max-width: 800px;
      margin: 30px auto;
      background: #151c3a;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,255,200,0.2);
    }
    .question {
      font-size: 1.2em;
      margin-bottom: 20px;
    }
    .options button {
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 12px;
      font-size: 1em;
      background: #1f2747;
      border: 1px solid #2f3a65;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      transition: 0.3s;
    }
    .options button:hover {
      background: #2f3a65;
    }
    .options button.selected {
      background: #00ffe0;
      color: #000;
      font-weight: bold;
    }
    .controls {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .controls button {
      padding: 10px 20px;
      background: #00ffe0;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: #000;
      font-weight: bold;
    }
    .controls button:disabled {
      background: #555;
      cursor: not-allowed;
    }
    #result-screen {
      display: none;
      text-align: center;
    }
    #timer {
      text-align: right;
      font-weight: bold;
      color: #ffcc00;
    }
    .start-screen {
      text-align: center;
      margin-top: 100px;
    }
    .start-screen input {
      padding: 10px;
      font-size: 1em;
      margin-bottom: 10px;
    }
    .start-screen button {
      padding: 10px 20px;
      font-size: 1em;
      background: #00ffe0;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: #000;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>⚡ Decode & Defend - Cybersecurity Quiz ⚡</header>

  <!-- Start Screen -->
  <div class="start-screen container" id="start-screen">
    <h2>Enter Your Name to Begin</h2>
    <input type="text" id="player-name" placeholder="Your Name"/>
    <br/>
    <button onclick="startQuiz()">Start Quiz</button>
  </div>

  <!-- Quiz Screen -->
  <div class="container" id="quiz-screen" style="display:none;">
    <div id="timer">Time Left: 30:00</div>
    <h2 id="player-display"></h2>
    <div class="question" id="question-text"></div>
    <div class="options" id="options-container"></div>
    <div class="controls">
      <button id="prev-btn" onclick="prevQuestion()" disabled>Previous</button>
      <button id="next-btn" onclick="nextQuestion()">Next</button>
      <button id="submit-btn" onclick="submitQuiz()" disabled>Submit</button>
    </div>
  </div>

  <!-- Result Screen -->
  <div class="container" id="result-screen">
    <h2>Quiz Results</h2>
    <p><b>Player:</b> <span id="result-player"></span></p>
    <p><b>Score:</b> <span id="result-score"></span> / <span id="total-questions"></span></p>
    <p><b>Accuracy:</b> <span id="result-accuracy"></span>%</p>
    <p><b>Time Taken:</b> <span id="time-taken"></span></p>
    <p><b>Avg. Time per Question:</b> <span id="avg-time"></span> sec</p>
  </div>

  <script>
    const default_questions = [
            {
                "question": "What does cybersecurity mainly protect?",
                "options": ["Cars", "Data and systems", "Sports", "Music files"],
                "correct": 1
            },
            {
                "question": "Which of these is an example of malware?",
                "options": ["Antivirus", "Trojan", "Firewall", "Router"],
                "correct": 1
            },
            {
                "question": "What does the 'P' in HTTPS stand for?",
                "options": ["Private", "Protocol", "Password", "Proxy"],
                "correct": 1
            },
            {
                "question": "Which of these is a strong password?",
                "options": ["123456", "qwerty", "Myp@ssW0rd!", "password"],
                "correct": 2
            },
            {
                "question": "Which of these is a type of phishing?",
                "options": ["Email scam", "Hard drive formatting", "File backup", "Password hashing"],
                "correct": 0
            },
            {
                "question": "What is the main purpose of an antivirus?",
                "options": ["To detect and remove malware", "To store passwords", "To manage Wi-Fi", "To speed up the CPU"],
                "correct": 0
            },
            {
                "question": "What does a firewall block?",
                "options": ["Authorized access", "Unauthorized access", "Passwords", "Backups"],
                "correct": 1
            },
            {
                "question": "What is the safest way to connect to public Wi-Fi?",
                "options": ["Without a password", "Using a VPN", "By disabling antivirus", "By ignoring HTTPS"],
                "correct": 1
            },
            {
                "question": "Which of these is an authentication factor?",
                "options": ["Password", "Mouse", "Monitor", "Speaker"],
                "correct": 0
            },
            {
                "question": "Which type of malware locks files until a ransom is paid?",
                "options": ["Trojan", "Spyware", "Ransomware", "Worm"],
                "correct": 2
            },
            {
                "question": "Which port does HTTP use by default?",
                "options": ["21", "22", "80", "443"],
                "correct": 2
            },
            {
                "question": "What is the full form of VPN?",
                "options": ["Virtual Private Network", "Verified Public Node", "Virtual Program Net", "Visual Processing Network"],
                "correct": 0
            },
            {
                "question": "Which of these is a hashing algorithm?",
                "options": ["AES", "RSA", "MD5", "TLS"],
                "correct": 2
            },
            {
                "question": "What does DDoS attack target?",
                "options": ["Confidentiality", "Availability", "Integrity", "Authentication"],
                "correct": 1
            },
            {
                "question": "What is a common method of brute force attacks?",
                "options": ["Guessing passwords repeatedly", "Encrypting files", "Running antivirus", "Creating backups"],
                "correct": 0
            },
            {
                "question": "Which of the following is a social engineering attack?",
                "options": ["Phishing", "Hashing", "AES encryption", "Firewall filtering"],
                "correct": 0
            },
            {
                "question": "Which of these ensures data confidentiality?",
                "options": ["Hashing", "Encryption", "Backup", "Firewall"],
                "correct": 1
            },
            {
                "question": "Which protocol is used to send emails?",
                "options": ["SMTP", "HTTP", "FTP", "SSH"],
                "correct": 0
            },
            {
                "question": "What does the 'I' in CIA triad stand for?",
                "options": ["Integrity", "Information", "Internet", "Identity"],
                "correct": 0
            },
            {
                "question": "Which of these devices can sniff network traffic?",
                "options": ["Wireshark", "Calculator", "Printer", "Keyboard"],
                "correct": 0
            },
            {
                "question": "What is SQL injection?",
                "options": ["Injecting SQL code into queries", "Encrypting databases", "Resetting SQL servers", "Creating SQL backups"],
                "correct": 0
            },
            {
                "question": "What does the term 'zero-day' mean?",
                "options": ["New vulnerability with no patch", "Vulnerability that causes no damage", "Vulnerability fixed immediately", "Old vulnerability"],
                "correct": 0
            },
            {
                "question": "Which encryption algorithm is asymmetric?",
                "options": ["AES", "RSA", "DES", "Blowfish"],
                "correct": 1
            },
            {
                "question": "What is a man-in-the-middle attack?",
                "options": ["Intercepting communication between two parties", "Stealing passwords with brute force", "Infecting files with malware", "Overloading a server"],
                "correct": 0
            },
            {
                "question": "Which Wi-Fi encryption standard is most secure?",
                "options": ["WEP", "WPA", "WPA2", "WPA3"],
                "correct": 3
            },
            {
                "question": "Which tool is widely used for penetration testing?",
                "options": ["Metasploit", "MS Word", "Photoshop", "Excel"],
                "correct": 0
            },
            {
                "question": "What is the purpose of hashing passwords?",
                "options": ["To store them securely", "To make them shorter", "To delete them", "To encrypt them for sharing"],
                "correct": 0
            },
            {
                "question": "Which of these is NOT a type of malware?",
                "options": ["Worm", "Trojan", "Spyware", "Firewall"],
                "correct": 3
            },
            {
                "question": "What is the main difference between symmetric and asymmetric encryption?",
                "options": ["Key length", "Same key vs. public/private key", "Hashing method", "File size"],
                "correct": 1
            },
            {
                "question": "Which port is used for HTTPS?",
                "options": ["20", "22", "80", "443"],
                "correct": 3
            },
            {
                "question": "What is a honeypot in cybersecurity?",
                "options": ["A fake system to lure attackers", "A strong password", "An encryption algorithm", "A type of virus"],
                "correct": 0
            },
            {
                "question": "Which protocol is commonly used for remote login?",
                "options": ["FTP", "SMTP", "SSH", "HTTP"],
                "correct": 2
            },
            {
                "question": "What does MFA stand for?",
                "options": ["Multi-Factor Authentication", "Managed File Access", "Multiple Firewall Analysis", "Manual Function Access"],
                "correct": 0
            },
            {
                "question": "Which of the following ensures data integrity?",
                "options": ["Hashing", "Firewall", "VPN", "Compression"],
                "correct": 0
            },
            {
                "question": "What is ransomware designed to do?",
                "options": ["Steal data silently", "Lock files until payment is made", "Delete all system logs", "Encrypt network traffic"],
                "correct": 1
            },
            {
                "question": "Which of these is a vulnerability scanning tool?",
                "options": ["Nmap", "Nessus", "Wireshark", "Photoshop"],
                "correct": 1
            },
            {
                "question": "Which attack tries all possible password combinations?",
                "options": ["Brute force", "Phishing", "SQL Injection", "Spoofing"],
                "correct": 0
            },
            {
                "question": "Which of the following is a cyber threat to availability?",
                "options": ["Phishing", "DDoS", "Man-in-the-Middle", "SQL Injection"],
                "correct": 1
            },
            {
                "question": "What is spyware?",
                "options": ["Software that steals user activity data secretly", "A type of firewall", "An antivirus tool", "A backup service"],
                "correct": 0
            },
            {
                "question": "Which of these is used for secure file transfer?",
                "options": ["SFTP", "Telnet", "HTTP", "POP3"],
                "correct": 0
            },
            {
                "question": "Which cryptographic protocol replaced SSL?",
                "options": ["TLS", "IPSec", "PGP", "SSH"],
                "correct": 0
            },
            {
                "question": "Elliptic Curve Cryptography (ECC) is primarily used for?",
                "options": ["Fast password cracking", "Efficient public-key encryption", "Network sniffing", "Hashing"],
                "correct": 1
            },
            {
                "question": "What is a side-channel attack?",
                "options": ["Using physical system leaks like timing or power", "SQL query injection", "Overloading servers", "Guessing passwords"],
                "correct": 0
            },
            {
                "question": "Which of these hashing algorithms is considered broken?",
                "options": ["SHA-256", "SHA-3", "MD5", "BLAKE2"],
                "correct": 2
            },
            {
                "question": "What is a logic bomb?",
                "options": ["Code that triggers on specific conditions", "SQL Injection attack", "Phishing scam", "Firewall misconfiguration"],
                "correct": 0
            },
            {
                "question": "Which OSI layer does SSL/TLS operate at?",
                "options": ["Network", "Transport", "Session", "Application"],
                "correct": 2
            },
            {
                "question": "What is the difference between IDS and IPS?",
                "options": ["IDS detects attacks, IPS prevents them", "IDS encrypts data, IPS decrypts", "IDS manages keys, IPS stores passwords", "IDS is hardware, IPS is software"],
                "correct": 0
            },
            {
                "question": "Which type of attack exploits race conditions in file handling?",
                "options": ["TOCTTOU", "Brute force", "SQL Injection", "XSS"],
                "correct": 0
            },
            {
                "question": "What is the main purpose of salting passwords?",
                "options": ["Preventing rainbow table attacks", "Making them shorter", "Encrypting them for sharing", "Deleting them faster"],
                "correct": 0
            },
            {
                "question": "In asymmetric encryption, what is the private key used for?",
                "options": ["Encrypting data", "Decrypting data", "Hashing data", "Storing data"],
                "correct": 1
            }
        ];

    let playerName = "";
    let currentQuestion = 0;
    let answers = Array(default_questions.length).fill(null);
    let timer;
    let timeLeft = 30 * 60; // 30 minutes in seconds
    let quizStartTime;

    function startQuiz() {
      playerName = document.getElementById("player-name").value.trim();
      if (!playerName) {
        alert("Please enter your name!");
        return;
      }
      document.getElementById("start-screen").style.display = "none";
      document.getElementById("quiz-screen").style.display = "block";
      document.getElementById("player-display").innerText = "Player: " + playerName;
      quizStartTime = Date.now();
      loadQuestion();
      startTimer();
    }

    function loadQuestion() {
      const q = default_questions[currentQuestion];
      document.getElementById("question-text").innerText = `Q${currentQuestion+1}. ${q.question}`;
      const optionsContainer = document.getElementById("options-container");
      optionsContainer.innerHTML = "";
      q.options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.innerText = opt;
        if (answers[currentQuestion] === i) btn.classList.add("selected");
        btn.onclick = () => {
          answers[currentQuestion] = i;
          loadQuestion();
        };
        optionsContainer.appendChild(btn);
      });

      document.getElementById("prev-btn").disabled = currentQuestion === 0;
      document.getElementById("next-btn").disabled = currentQuestion === default_questions.length-1;
      document.getElementById("submit-btn").disabled = currentQuestion !== default_questions.length-1;
    }

    function nextQuestion() {
      if (currentQuestion < default_questions.length-1) {
        currentQuestion++;
        loadQuestion();
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion();
      }
    }

    function submitQuiz() {
      clearInterval(timer);
      const total = default_questions.length;
      let score = 0;
      answers.forEach((ans, idx) => {
        if (ans === default_questions[idx].correct) score++;
      });

      const timeTaken = Math.floor((Date.now() - quizStartTime) / 1000);
      const minutes = Math.floor(timeTaken / 60);
      const seconds = timeTaken % 60;
      const accuracy = ((score / total) * 100).toFixed(2);
      const avgTime = (timeTaken / total).toFixed(2);

      document.getElementById("quiz-screen").style.display = "none";
      document.getElementById("result-screen").style.display = "block";

      document.getElementById("result-player").innerText = playerName;
      document.getElementById("result-score").innerText = score;
      document.getElementById("total-questions").innerText = total;
      document.getElementById("result-accuracy").innerText = accuracy;
      document.getElementById("time-taken").innerText = `${minutes}m ${seconds}s`;
      document.getElementById("avg-time").innerText = avgTime;
    }

    function startTimer() {
      timer = setInterval(() => {
        timeLeft--;
        if (timeLeft <= 0) {
          clearInterval(timer);
          submitQuiz();
        }
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById("timer").innerText =
          `Time Left: ${minutes}:${seconds < 10 ? "0"+seconds : seconds}`;
      }, 1000);
    }
  </script>
</body>
</html>
